(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[2],{kckp:function(a,t,s){"use strict";s.r(t);var o=function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("q-layout",{ref:"layout",attrs:{view:"lHh Lpr fff","left-class":{"bg-grey-2":!0}}},[s("q-layout",{staticClass:"layout-page-login",attrs:{row:"",wrap:""}},[s("div",{attrs:{xs12:""}},[s("div",{staticClass:"area-login"},[s("div",{attrs:{id:"box-login"}},[s("div",{attrs:{id:"logo-geosite"}}),s("div",{attrs:{id:"formulario"}},[s("div",{attrs:{xs12:""}},[s("q-input",{attrs:{label:"Usuário",dark:"","stack-label":"usuário"},model:{value:a.username,callback:function(t){a.username=t},expression:"username"}})],1),s("div",{attrs:{xs12:""}},[s("q-input",{attrs:{label:"Senha",type:"password",dark:"","stack-label":"Senha"},model:{value:a.password,callback:function(t){a.password=t},expression:"password"}})],1),s("div",{attrs:{xs12:""}},[s("q-btn",{staticClass:"text-black full-width",attrs:{loading:a.loading,warning:"",dark:"",color:"white"},nativeOn:{click:function(t){return a.login(t)}}},[a._v("Entrar")])],1),s("q-btn",{attrs:{color:"primary",label:"Novo Cadastro"},nativeOn:{click:function(t){a.modalCadastraUsuario=!0}}})],1)])])]),s("q-modal",{attrs:{"no-backdrop-dismiss":"","content-css":{minWidth:"80vw",minHeight:"80vh"}},model:{value:a.modalCadastraUsuario,callback:function(t){a.modalCadastraUsuario=t},expression:"modalCadastraUsuario"}},[s("q-modal-layout",[s("q-toolbar",{attrs:{slot:"header"},slot:"header"},[s("q-toolbar-title",[a._v("\r\n        Novo Usuario\r\n      ")])],1),s("q-toolbar",{attrs:{slot:"footer"},slot:"footer"},[s("q-toolbar-title")],1),s("div",{staticClass:"layout-padding"},[s("q-input",{attrs:{type:"text","float-label":"Nome"},model:{value:a.nomeCadastro,callback:function(t){a.nomeCadastro=t},expression:"nomeCadastro"}}),s("q-input",{attrs:{type:"text","float-label":"Login"},model:{value:a.loginCadastro,callback:function(t){a.loginCadastro=t},expression:"loginCadastro"}}),s("q-input",{attrs:{type:"password","float-label":"Senha"},model:{value:a.senhaCadastro,callback:function(t){a.senhaCadastro=t},expression:"senhaCadastro"}}),s("q-btn",{attrs:{color:"primary",label:"Cancelar"},nativeOn:{click:function(t){a.modalCadastraUsuario=!1}}}),s("q-btn",{staticStyle:{"margin-left":"20px"},attrs:{color:"primary",label:"Salvar"},on:{click:a.salvarNovoUsuario}})],1)],1)],1)],1)],1)},e=[];o._withStripped=!0;s("6DIm");var r=s("Stgy"),i=(s("IA+4"),{data:function(){return{snackbar:!1,error:"Usuário e/ou senha inválidos",loading:!1,username:"",password:"",firstLogin:!0,isCordovaApp:!!window.cordova,modalCadastraUsuario:!1,senhaCadastro:"",loginCadastro:"",nomeCadastro:""}},mounted:function(){this.isCordovaApp&&this.verificaPermissaoGps()},created:function(){var a=localStorage.getItem("USER_QUEST");void 0===a&&null===a||(this.username=a)},methods:{salvarNovoUsuario:function(){var a=this,t=this;if(""!=t.loginCadastro)if(""!=t.senhaCadastro)if(""!=t.nomeCadastro){var s={login:t.loginCadastro,senha:t.senhaCadastro,nome:t.nomeCadastro};this.$http.post("http://18.217.198.234:8080/ws-questionario/api/auth/salvarUsuario",s).then(function(s){s&&s.data&&"OK"==s.data?(t.loginCadastro="",t.senhaCadastro="",t.nomeCadastro="",a.modalCadastraUsuario=!1,r["a"].create({title:"Alerta",message:"Salvo com sucesso"})):r["a"].create({title:"Alerta",message:s.data})},function(a){r["a"].create({title:"Alerta",message:"Erro ao cadastrar"})})}else r["a"].create({title:"Alerta",message:"Informe o Nome."});else r["a"].create({title:"Alerta",message:"Informe a senha."});else r["a"].create({title:"Alerta",message:"Informe o login."})},login:function(){this.$auth.login({data:{username:this.username,password:this.password},success:function(){this.snackbar=!1,this.loading=!1,localStorage.setItem("USER_QUEST",this.username)},error:function(a){var t="";t="Usuário ou Senha Inválidos",r["a"].create({title:"Alerta",message:t})},rememberMe:!0,redirect:"/"})},verificaPermissaoGps:function(){var a=cordova.plugins.permissions,t=[a.ACCESS_COARSE_LOCATION,a.ACCESS_FINE_LOCATION,a.ACCESS_LOCATION_EXTRA_COMMANDS,a.ACCESS_NOTIFICATION_POLICY,a.VIBRATE,a.REQUEST_INSTALL_PACKAGES,a.INTERNET,a.ACCESS_NETWORK_STATE,a.WRITE_EXTERNAL_STORAGE,a.READ_EXTERNAL_STORAGE];a.hasPermission(t,function(s){s.hasPermission?console.log("Possui as permissoes"):a.requestPermissions(t,function(){console.log("Liberado!")},null)})}}}),n=i,l=(s("qfFH"),s("psIG")),d=Object(l["a"])(n,o,e,!1,null,null,null);t["default"]=d.exports},qfFH:function(a,t,s){"use strict";var o=s("qy1U"),e=s.n(o);e.a},qy1U:function(a,t,s){}}]);